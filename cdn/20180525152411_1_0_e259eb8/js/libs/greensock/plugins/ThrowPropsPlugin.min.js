/*!
 * VERSION: 0.9.5
 * DATE: 2014-04-16
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://www.greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */

(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(t,e,r,n){var i,o,s,a,c=function(){t.call(this,"throwProps"),this._overwriteProps.length=0},u=999999999999999,p=1e-10,l=!1,f={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1},v=function(t,e,r,n){for(var i,o,s=e.length,a=0,c=u;--s>-1;)i=e[s],o=i-t,0>o&&(o=-o),c>o&&i>=n&&r>=i&&(a=s,c=o);return e[a]},h=function(t,e,r,n){if("auto"===t.end)return t;r=isNaN(r)?u:r,n=isNaN(n)?-u:n;var i="function"==typeof t.end?t.end(e):t.end instanceof Array?v(e,t.end,r,n):Number(t.end);return i>r?i=r:n>i&&(i=n),{max:i,min:i,unitFactor:t.unitFactor}},g=function(t,e,r){for(var n in e)void 0===t[n]&&n!==r&&(t[n]=e[n]);return t},_=c.calculateChange=function(t,n,i,o){null==o&&(o=.05);var s=n instanceof r?n:n?new r(n):e.defaultEase;return i*o*t/s.getRatio(o)},d=c.calculateDuration=function(t,n,i,o,s){s=s||.05;var a=o instanceof r?o:o?new r(o):e.defaultEase;return Math.abs((n-t)*a.getRatio(s)/i/s)},y=c.calculateTweenDuration=function(t,i,o,s,a,u){if("string"==typeof t&&(t=e.selector(t)),!t)return 0;null==o&&(o=10),null==s&&(s=.2),null==a&&(a=1),t.length&&(t=t[0]||t);var f,v,y,m,w,P,k,x,T,b,N=0,V=9999999999,O=i.throwProps||i,R=i.ease instanceof r?i.ease:i.ease?new r(i.ease):e.defaultEase,S=isNaN(O.checkpoint)?.05:Number(O.checkpoint),B=isNaN(O.resistance)?c.defaultResistance:Number(O.resistance);for(f in O)"resistance"!==f&&"checkpoint"!==f&&"preventOvershoot"!==f&&(v=O[f],"object"!=typeof v&&(T=T||n.getByTarget(t),T&&T.isTrackingProp(f)?v="number"==typeof v?{velocity:v}:{velocity:T.getVelocity(f)}:(m=Number(v)||0,y=m*B>0?m/B:m/-B)),"object"==typeof v&&(void 0!==v.velocity&&"number"==typeof v.velocity?m=Number(v.velocity)||0:(T=T||n.getByTarget(t),m=T&&T.isTrackingProp(f)?T.getVelocity(f):0),w=isNaN(v.resistance)?B:Number(v.resistance),y=m*w>0?m/w:m/-w,P="function"==typeof t[f]?t[f.indexOf("set")||"function"!=typeof t["get"+f.substr(3)]?f:"get"+f.substr(3)]():t[f]||0,k=P+_(m,R,y,S),void 0!==v.end&&(v=h(v,k,v.max,v.min),(u||l)&&(O[f]=g(v,O[f],"end"))),void 0!==v.max&&k>Number(v.max)+p?(b=v.unitFactor||c.defaultUnitFactors[f]||1,x=P>v.max&&v.min!==v.max||m*b>-15&&45>m*b?s+.1*(o-s):d(P,v.max,m,R,S),V>x+a&&(V=x+a)):void 0!==v.min&&Number(v.min)-p>k&&(b=v.unitFactor||c.defaultUnitFactors[f]||1,x=v.min>P&&v.min!==v.max||m*b>-45&&15>m*b?s+.1*(o-s):d(P,v.min,m,R,S),V>x+a&&(V=x+a)),x>N&&(N=x)),y>N&&(N=y));return N>V&&(N=V),N>o?o:s>N?s:N},m=c.prototype=new t("throwProps");return m.constructor=c,c.version="0.9.5",c.API=2,c._autoCSS=!0,c.defaultResistance=100,c.defaultUnitFactors={time:1e3,totalTime:1e3},c.track=function(t,e,r){return n.track(t,e,r)},c.untrack=function(t,e){n.untrack(t,e)},c.isTracking=function(t,e){return n.isTracking(t,e)},c.getVelocity=function(t,e){var r=n.getByTarget(t);return r?r.getVelocity(e):NaN},c._cssRegister=function(){var t=(window.GreenSockGlobals||window).com.greensock.plugins.CSSPlugin;if(t){var e=t._internals,r=e._parseToProxy,s=e._setPluginRatio,a=e.CSSPropTween;e._registerComplexSpecialProp("throwProps",{parser:function(t,e,u,p,l,v){v=new c;var h,g,_,d,y,m={},w={},P={},k={},x={},T={};o={};for(_ in e)"resistance"!==_&&"preventOvershoot"!==_&&(g=e[_],"object"==typeof g?(void 0!==g.velocity&&"number"==typeof g.velocity?m[_]=Number(g.velocity)||0:(y=y||n.getByTarget(t),m[_]=y&&y.isTrackingProp(_)?y.getVelocity(_):0),void 0!==g.end&&(k[_]=g.end),void 0!==g.min&&(w[_]=g.min),void 0!==g.max&&(P[_]=g.max),g.preventOvershoot&&(T[_]=!0),void 0!==g.resistance&&(h=!0,x[_]=g.resistance)):"number"==typeof g?m[_]=g:(y=y||n.getByTarget(t),m[_]=y&&y.isTrackingProp(_)?y.getVelocity(_):g||0),f[_]&&p._enableTransforms(2===f[_]));d=r(t,m,p,l,v),i=d.proxy,m=d.end;for(_ in i)o[_]={velocity:m[_],min:w[_],max:P[_],end:k[_],resistance:x[_],preventOvershoot:T[_]};return null!=e.resistance&&(o.resistance=e.resistance),e.preventOvershoot&&(o.preventOvershoot=!0),l=new a(t,"throwProps",0,0,d.pt,2),l.plugin=v,l.setRatio=s,l.data=d,v._onInitTween(i,o,p._tween),l}})}},c.to=function(t,r,n,c,u){r.throwProps||(r={throwProps:r}),0===u&&(r.throwProps.preventOvershoot=!0),l=!0;var p=new e(t,1,r);return p.render(0,!0,!0),p.vars.css?(p.duration(y(i,{throwProps:o,ease:r.ease},n,c,u)),p._delay&&!p.vars.immediateRender?p.invalidate():s._onInitTween(i,a,p),l=!1,p):(p.kill(),p=new e(t,y(t,r,n,c,u),r),l=!1,p)},m._onInitTween=function(t,e,r){this.target=t,this._props=[],s=this,a=e;var i,o,c,u,p,f,v,d,y,m=r._ease,w=isNaN(e.checkpoint)?.05:Number(e.checkpoint),P=r._duration,k=e.preventOvershoot,x=0;for(i in e)if("resistance"!==i&&"checkpoint"!==i&&"preventOvershoot"!==i){if(o=e[i],"number"==typeof o)p=Number(o)||0;else if("object"!=typeof o||isNaN(o.velocity)){if(y=y||n.getByTarget(t),!y||!y.isTrackingProp(i))throw"ERROR: No velocity was defined in the throwProps tween of "+t+" property: "+i;p=y.getVelocity(i)}else p=Number(o.velocity);f=_(p,m,P,w),d=0,u="function"==typeof t[i],c=u?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():t[i],"object"==typeof o&&(v=c+f,void 0!==o.end&&(o=h(o,v,o.max,o.min),l&&(e[i]=g(o,e[i],"end"))),void 0!==o.max&&v>Number(o.max)?k||o.preventOvershoot?f=o.max-c:d=o.max-c-f:void 0!==o.min&&Number(o.min)>v&&(k||o.preventOvershoot?f=o.min-c:d=o.min-c-f)),this._props[x++]={p:i,s:c,c1:f,c2:d,f:u,r:!1},this._overwriteProps[x]=i}return!0},m._kill=function(e){for(var r=this._props.length;--r>-1;)null!=e[this._props[r].p]&&this._props.splice(r,1);return t.prototype._kill.call(this,e)},m._roundProps=function(t,e){for(var r=this._props,n=r.length;--n>-1;)(t[r[n]]||t.throwProps)&&(r[n].r=e)},m.setRatio=function(t){for(var e,r,n=this._props.length;--n>-1;)e=this._props[n],r=e.s+e.c1*t+e.c2*t*t,e.r&&(r=Math.round(r)),e.f?this.target[e.p](r):this.target[e.p]=r},t.activate([c]),c},!0),window._gsDefine("utils.VelocityTracker",["TweenLite"],function(t){var e,r,n,i,o=/([A-Z])/g,s={},a={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1},c=document.defaultView?document.defaultView.getComputedStyle:function(){},u=function(t,e,r){var n=(t._gsTransform||s)[e];return n||0===n?n:(t.style[e]?n=t.style[e]:(r=r||c(t,null))?(t=r.getPropertyValue(e.replace(o,"-$1").toLowerCase()),n=t||r.length?t:r[e]):t.currentStyle&&(r=t.currentStyle,n=r[e]),parseFloat(n)||0)},p=t.ticker,l=function(t,e,r){this.p=t,this.f=e,this.v1=this.v2=0,this.t1=this.t2=p.time,this.css=!1,this.type="",this._prev=null,r&&(this._next=r,r._prev=this)},f=function(){var t,r,o=e,s=p.time;if(s-n>=.03)for(i=n,n=s;o;){for(r=o._firstVP;r;)t=r.css?u(o.target,r.p):r.f?o.target[r.p]():o.target[r.p],(t!==r.v1||s-r.t1>.15)&&(r.v2=r.v1,r.v1=t,r.t2=r.t1,r.t1=s),r=r._next;o=o._next}},v=function(t){this._lookup={},this.target=t,this.elem=t.style&&t.nodeType?!0:!1,r||(p.addEventListener("tick",f,null,!1,-100),n=i=p.time,r=!0),e&&(this._next=e,e._prev=this),e=this},h=v.getByTarget=function(t){for(var r=e;r;){if(r.target===t)return r;r=r._next}},g=v.prototype;return g.addProp=function(e,r){if(!this._lookup[e]){var n=this.target,i="function"==typeof n[e],o=i?this._altProp(e):e,s=this._firstVP;this._firstVP=this._lookup[e]=this._lookup[o]=s=new l(o!==e&&0===e.indexOf("set")?o:e,i,s),s.css=this.elem&&(void 0!==this.target.style[s.p]||a[s.p]),s.css&&a[s.p]&&!n._gsTransform&&t.set(n,{x:"+=0"}),s.type=r||s.css&&0===e.indexOf("rotation")?"deg":"",s.v1=s.v2=s.css?u(n,s.p):i?n[s.p]():n[s.p]}},g.removeProp=function(t){var e=this._lookup[t];e&&(e._prev?e._prev._next=e._next:e===this._firstVP&&(this._firstVP=e._next),e._next&&(e._next._prev=e._prev),this._lookup[t]=0,e.f&&(this._lookup[this._altProp(t)]=0))},g.isTrackingProp=function(t){return this._lookup[t]instanceof l},g.getVelocity=function(t){var e,r,n,i=this._lookup[t],o=this.target;if(!i)throw"The velocity of "+t+" is not being tracked.";return e=i.css?u(o,i.p):i.f?o[i.p]():o[i.p],r=e-i.v2,("rad"===i.type||"deg"===i.type)&&(n="rad"===i.type?2*Math.PI:360,r%=n,r!==r%(n/2)&&(r=0>r?r+n:r-n)),r/(p.time-i.t2)},g._altProp=function(t){var e=t.substr(0,3),r=("get"===e?"set":"set"===e?"get":e)+t.substr(3);return"function"==typeof this.target[r]?r:t},v.getByTarget=function(r){var n=e;for("string"==typeof r&&(r=t.selector(r)),r.length&&r!==window&&r[0]&&r[0].style&&!r.nodeType&&(r=r[0]);n;){if(n.target===r)return n;n=n._next}},v.track=function(t,e,r){var n=h(t),i=e.split(","),o=i.length;for(r=(r||"").split(","),n||(n=new v(t));--o>-1;)n.addProp(i[o],r[o]||r[0]);return n},v.untrack=function(t,r){var n=h(t),i=(r||"").split(","),o=i.length;if(n){for(;--o>-1;)n.removeProp(i[o]);n._firstVP&&r||(n._prev?n._prev._next=n._next:n===e&&(e=n._next),n._next&&(n._next._prev=n._prev))}},v.isTracking=function(t,e){var r=h(t);return r?!e&&r._firstVP?!0:r.isTrackingProp(e):!1},v},!0)}),window._gsDefine&&window._gsQueue.pop()();