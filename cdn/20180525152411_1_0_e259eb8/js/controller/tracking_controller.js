define(["jquery","underscore","route/router","model/app_model","model/tracking_collection","view/common/communicator","events/view_events","util/google_analytics"],function(e,t,n,o,r,i,a,c){"use strict";var s={init:function(){c("create","UA-XXXX-Y","auto"),r.on(r.events.TRACK_FIRED,this.onTrackFired,this),i.on(a.TRACKING,this.onViewTrack,this)},onViewTrack:function(e,t){r.track(e,t)},onTrackFired:function(e){switch(e.type.toLowerCase()){case"page":c("send","pageview",e.pagetrackurl);break;case"event":c("send","event",e.eventcategory,e.eventaction,e.eventlabel,e.eventvalue);break;default:throw new Error("Track type not found: "+e.id+" - "+e.type)}}};return s.init(),s});