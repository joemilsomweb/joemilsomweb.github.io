define(["jquery","underscore","backbone","util/createjs","model/loader_collection"],function(e,t,s,i,n){var a={};return s.View.extend({stage:null,root:null,initialize:function(t){this.canvas=e('<canvas width="'+t.width+'" height="'+t.height+'"></canvas>'),this.setElement(this.canvas[0]),a[t.js]||(a[t.js]=n.getResult(t.js),e("head").append(a[t.js])),this.root=new i.lib[t.ns][t.root],this.stage=new i.Stage(this.el),this.stage.addChild(this.root),i.Touch.enable(this.stage),this.stage.enableMouseOver(),this.stage.update(),i.Ticker.setFPS(t.fps),i.Ticker.addEventListener("tick",this.stage)},destroy:function(){i.Ticker.removeEventListener(this.stage),this.stage.removeAllChildren(),this.stage=null,this.$el.remove(),this.root.removeAllEventListeners(),this.root=null}})});