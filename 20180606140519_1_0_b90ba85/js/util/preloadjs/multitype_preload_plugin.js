define(["underscore"],function(n){"use strict";var e=function(){};e.plugins=[],e.use=function(n){return e.plugins=n,e};var t=e;return t.getPreloadHandlers=function(){var e,s={types:[],extensions:[]};return n.each(this.plugins,function(t){e=t.getPreloadHandlers(),s.types=n.union(s.types,e.types),s.extensions=n.union(s.extensions,e.extensions)}),{callback:t.preloadHandler,types:s.types,extensions:s.extensions}},t.preloadHandler=function(t,s){var i=!0;return n.find(e.plugins,function(e){var r=e.getPreloadHandlers();return n.contains(r.types,t.type)||n.contains(r.extensions,t.ext)?(i=r.callback(t,s),i===!1||n.isObject(i)):void 0},this),i},e});