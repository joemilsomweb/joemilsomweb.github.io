/*!
 * VERSION: 0.1.1
 * DATE: 2014-04-08
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * PhysicsPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://www.greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */

(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var i=function(i,t,s,e,r,o){this.p=t,this.f="function"==typeof i[t],this.start=this.value=this.f?i[t.indexOf("set")||"function"!=typeof i["get"+t.substr(3)]?t:"get"+t.substr(3)]():parseFloat(i[t]),this.velocity=s||0,this.v=this.velocity/o,e||0==e?(this.acceleration=e,this.a=this.acceleration/(o*o)):this.acceleration=this.a=0,this.friction=1-(r||0)},t=Math.random(),s=window._gsDefine.globals.com.greensock.core.Animation._rootFramesTimeline,e=window._gsDefine.plugin({propName:"physicsProps",version:"0.1.1",API:2,init:function(t,e,r){this._target=t,this._tween=r,this._runBackwards=r.vars.runBackwards===!0,this._step=0;for(var o,n,p=r._timeline,a=0;p._timeline;)p=p._timeline;this._stepsPerTimeUnit=p===s?1:30,this._props=[];for(o in e)n=e[o],(n.velocity||n.acceleration)&&(this._props[a++]=new i(t,o,n.velocity,n.acceleration,n.friction,this._stepsPerTimeUnit),this._overwriteProps[a]=o,n.friction&&(this._hasFriction=!0));return!0},set:function(){var i,t,s,e,r,o,n=this._props.length,p=this._tween._time,a=this._target;if(this._runBackwards&&(p=this._tween._duration-p),this._hasFriction){if(p*=this._stepsPerTimeUnit,s=(0|p)-this._step,e=p%1,s>=0)for(;--n>-1;){for(i=this._props[n],r=s;--r>-1;)i.v+=i.a,i.v*=i.friction,i.value+=i.v;t=i.value+i.v*e,i.r&&(t=Math.round(t)),i.f?a[i.p](t):a[i.p]=t}else for(;--n>-1;){for(i=this._props[n],r=-s;--r>-1;)i.value-=i.v,i.v/=i.friction,i.v-=i.a;t=i.value+i.v*e,i.r&&(t=0|t+(0>t?-.5:.5)),i.f?a[i.p](t):a[i.p]=t}this._step+=s}else for(o=.5*p*p;--n>-1;)i=this._props[n],t=i.start+(i.velocity*p+i.acceleration*o),i.r&&(t=Math.round(t)),i.f?a[i.p](t):a[i.p]=t}}),r=e.prototype;r._kill=function(i){for(var t=this._props.length;--t>-1;)this._props[t].p in i&&this._props.splice(t,1);return this._super._kill(i)},r._roundProps=function(i,t){for(var s=this._props.length;--s>-1;)("physicsProps"in i||this._props[s].p in i)&&(this._props[s].r=t)},e._autoCSS=!0,e._cssRegister=function(){var i=window._gsDefine.globals.CSSPlugin;if(i){var s=i._internals,r=s._parseToProxy,o=s._setPluginRatio,n=s.CSSPropTween;s._registerComplexSpecialProp("physicsProps",{parser:function(i,s,p,a,h,c){c=new e;var _,l,u={};s.scale&&(s.scaleX=s.scaleY=s.scale,delete s.scale);for(_ in s)u[_]=t++;return l=r(i,u,a,h,c),h=new n(i,"physicsProps",0,0,l.pt,2),h.data=l,h.plugin=c,h.setRatio=o,c._onInitTween(l.proxy,s,a._tween),h}})}}}),window._gsDefine&&window._gsQueue.pop()();