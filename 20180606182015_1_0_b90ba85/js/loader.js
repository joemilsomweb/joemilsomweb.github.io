// Device.js
// (c) 2014 Matthew Hudson
// Device.js is freely distributable under the MIT license.
// For all details and documentation:
// http://matthewhudson.me/projects/device.js/

define("modernizr",[],function(){return window.Modernizr}),function(){var e,n,t,i,o,s,r,a,l,c;n=window.device,e={},window.device=e,i=window.document.documentElement,c=window.navigator.userAgent.toLowerCase(),e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&o("iphone")},e.ipod=function(){return o("ipod")},e.ipad=function(){return o("ipad")},e.android=function(){return!e.windows()&&o("android")},e.androidPhone=function(){return e.android()&&o("mobile")},e.androidTablet=function(){return e.android()&&!o("mobile")},e.blackberry=function(){return o("blackberry")||o("bb10")||o("rim")},e.blackberryPhone=function(){return e.blackberry()&&!o("tablet")},e.blackberryTablet=function(){return e.blackberry()&&o("tablet")},e.windows=function(){return o("windows")},e.windowsPhone=function(){return e.windows()&&o("phone")},e.windowsTablet=function(){return e.windows()&&o("touch")&&!e.windowsPhone()},e.fxos=function(){return(o("(mobile;")||o("(tablet;"))&&o("; rv:")},e.fxosPhone=function(){return e.fxos()&&o("mobile")},e.fxosTablet=function(){return e.fxos()&&o("tablet")},e.meego=function(){return o("meego")},e.cordova=function(){return window.cordova&&"file:"===location.protocol},e.nodeWebkit=function(){return"object"==typeof window.process},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.television=function(){var e;for(television=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"],e=0;e<television.length;){if(o(television[e]))return!0;e++}return!1},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e.noConflict=function(){return window.device=n,this},o=function(e){return-1!==c.indexOf(e)},r=function(e){var n;return n=new RegExp(e,"i"),i.className.match(n)},t=function(e){var n=null;r(e)||(n=i.className.replace(/^\s+|\s+$/g,""),i.className=n+" "+e)},l=function(e){r(e)&&(i.className=i.className.replace(" "+e,""))},e.ios()?e.ipad()?t("ios ipad tablet"):e.iphone()?t("ios iphone mobile"):e.ipod()&&t("ios ipod mobile"):e.android()?t(e.androidTablet()?"android tablet":"android mobile"):e.blackberry()?t(e.blackberryTablet()?"blackberry tablet":"blackberry mobile"):e.windows()?t(e.windowsTablet()?"windows tablet":e.windowsPhone()?"windows mobile":"desktop"):e.fxos()?t(e.fxosTablet()?"fxos tablet":"fxos mobile"):e.meego()?t("meego mobile"):e.nodeWebkit()?t("node-webkit"):e.television()?t("television"):e.desktop()&&t("desktop"),e.cordova()&&t("cordova"),s=function(){e.landscape()?(l("portrait"),t("landscape")):(l("landscape"),t("portrait"))},a=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(a,s,!1):window.attachEvent?window.attachEvent(a,s):window[a]=s,s(),"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("libs/device",[],function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.device=e}.call(this),define("config",["modernizr","libs/device"],function(e,n){var t={SITE_URL:"http://",APP_URL:"https://apps.facebook.com/",CDN:"20180606182015_1_0_b90ba85",ENV:"live",OLD_DESKTOP:!e.csstransforms,MOBILE:n.mobile(),TABLET:n.tablet(),IOS:n.ios(),ANDROID:n.android(),HI_DPI:window.devicePixelRatio>1,FLOWS:{BASIC:"BASIC",EXTENDED:"EXTENDED",MOBILE:"MOBILE",TABLET:"TABLET"},FLOW:"none",FLASH_VESRION:"11.0.0",FLASH:null,FLASH_BYPASS:window.location.href.match(/bypass/),FACEBOOK_APP_IDS:{live:"",staging:"",dev:"",local:"205547496221381"},getFBID:function(){return this.FACEBOOK_APP_IDS[this.ENV]},API_URL:{live:"",staging:"",dev:"",local:""},getAPI:function(){return this.API_URL[this.ENV]}};return t.BASE_URL=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1),t}),require.config({paths:{jquery:"libs/jquery-2.1.4",underscore:"libs/underscore",backbone:"libs/backbone",swfobject:"libs/swfobject",handlebars:"libs/handlebars-v4.0.5",text:"libs/text",TweenMax:"shims/shim_tweenmax",TweenLite:"libs/greensock/TweenLite.min",TimelineLite:"libs/greensock/TimelineLite.min",TimelineMax:"libs/greensock/TimelineMax.min",console:"util/debugger",modernizr:"shims/shim_modernizr",createjs:"shims/shim_createjs","libs/createjs/preloadjs":"libs/createjs/preloadjs-0.6.0.combined","libs/createjs/tweenjs":"libs/createjs/tweenjs-0.6.0.min","libs/createjs/easeljs":"libs/createjs/easeljs-0.8.0.min","libs/createjs/movieclip":"libs/createjs/movieclip-0.8.0.min","libs/createjs/soundjs":"libs/createjs/soundjs-0.6.0.min",three:"libs/three",noise:"libs/noise"},shim:{three:{exports:"THREE"},noise:{exports:"noise"},"libs/console-shim":{exports:"console"},jquery:{exports:"jQuery"},"libs/greensock/TweenMax.min":{exports:"TweenMax"},TweenMax:{exports:"TweenMax"},"libs/createjs/movieclip":{deps:["libs/createjs/easeljs","libs/createjs/tweenjs"]},"libs/createjs/tweenjs":{exports:"createjs.Tween",deps:["libs/createjs/easeljs"]},"libs/device":{exports:"device"},underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},handlebars:{exports:"handlebars"},console:{exports:"console"},"libs/mocha":{exports:"mocha"},"libs/expect":{exports:"expect"},"libs/swfobject":{deps:["jquery"],exports:"swfobject"},"libs/swffit":["libs/swfobject"],"libs/swfmacmousewheel":["libs/swfobject"],"libs/jquery-swfobject":["jquery"]},waitSeconds:0}),require(["config"],function(e){function n(e){for(var n=document.getElementsByTagName("head")[0],t=0;t<e.length;t++){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e[t]),n.appendChild(i)}}function t(e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.send(),n.onload=function(e){var t=document.createElement("div");t.innerHTML=n.responseText,document.body.insertBefore(t,document.body.childNodes[0])}}var i=[],o=[],s=null;e.MOBILE?(e.FLOW=e.FLOWS.MOBILE,t(e.CDN+"/svg/spritemap.svg"),o.push(e.CDN+"/css/all.css"),i.push("main_desktop_extended")):e.OLD_DESKTOP?(e.FLOW=e.FLOWS.BASIC,t(e.CDN+"/svg/spritemap.svg"),o.push(e.CDN+"/css/all.css"),i.push("main_desktop_extended")):e.TABLET?(e.FLOW=e.FLOWS.TABLET,t(e.CDN+"/svg/spritemap.svg"),o.push(e.CDN+"/css/all.css"),i.push("main_desktop_extended")):(e.FLOW=e.FLOWS.EXTENDED,t(e.CDN+"/svg/spritemap.svg"),o.push(e.CDN+"/css/all.css"),i.push("main_desktop_extended")),n(o);var r=window.location.toString();if(r.indexOf("?testing")>-1){var a=r.match(/\?testing=([\w\/,-]+)/i);s=a?a[1].split(","):[]}require(i,function(e){s?require(["tests/mocha"],function(n){e.start(),n.run(s)}):e.start()})}),define("loader",function(){});